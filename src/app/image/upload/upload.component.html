<div class="container">
  <div class="wrapper">
    <h1 class="title">Upload image</h1>

    <ng-container *ngIf="!nextStage else sectionUploadForm">

      <div class="upload-area"  app-event-blocker
        (dragend)="isDragover = false"
        (dragover)="isDragover = true"
        (dragenter)="isDragover = true"
        (dragleave)="isDragover = false"
        (mouseleave)="isDragover = false"
        (drop)="storeFile($event)"
        >

          <h5>Drag and drop the Image here</h5>
          <h5>or</h5>
        </div>

        <div class="additional-control">
          <input type="file">
        </div>

      </ng-container>

      <ng-template #sectionUploadForm>
        <form [formGroup]="uploadForm" (submit)="uploadFile()">

          <div class="title-field">
            <p class="main-title">Write a file title </p>
            <app-input class="file-title-input" [control]="title" placeholder="Enter the photo title"></app-input>
          </div>

          <img [src]="fileUrl" class="image-uploaded">

          <div class="controls">
            <div class="remove-image" (click)="removeImage($event)">Remove Image</div>
            <button class="publish-button" [disabled]="uploadForm.invalid" >Publish Image</button>
          </div>

        </form>
      </ng-template>
  </div>
</div>
